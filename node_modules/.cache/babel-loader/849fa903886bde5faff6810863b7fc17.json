{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vlasoks\\\\Documents\\\\GitHub\\\\SUPE-map-demo\\\\src\\\\components\\\\Graphic2.js\";\nimport React from 'react';\nimport Plotly from \"plotly.js\";\nimport createPlotlyComponent from 'react-plotly.js/factory';\nimport differencePercent from '../data/graphic/transfer_percent.json';\nimport indexes from '../data/graphic/indexes.json';\nimport tech_losses from '../data/graphic/tech_losses.json';\nimport full_res from '../data/graphic/full_res_imbalance.json';\nconst Plot = createPlotlyComponent(Plotly);\nconst hole_size = .6;\nconst pie_colors = ['rgb(65,123,236)', 'rgba(140, 148, 158, 0.2)'];\nconst pie_legend = {\n  xanchor: \"center\",\n  yanchor: \"top\",\n  y: -0.3,\n  // play with it\n  x: 0.5 // play with it\n\n};\nconst pie_annotations = [{\n  font: {\n    size: 25,\n    color: \"#252F4A\"\n  },\n  showarrow: false,\n  text: '',\n  x: 0.5,\n  y: 0.5\n}, {\n  font: {\n    size: 12,\n    color: ''\n  },\n  showarrow: false,\n  text: '',\n  x: 0.5,\n  xanchor: 'center',\n  y: -0.5,\n  bgcolor: '' // opacity: 0.3,\n  // borderRadius: 4,\n\n}];\nconst pie_markers = {\n  colors: pie_colors\n};\nconst pie_title_font = {\n  size: 12,\n  color: '#818E9B'\n};\nvar imbalance_psk_pu = {\n  layout: {\n    title: 'График небалансов между показаниями ПСК и ПУ, в % от ПУ'\n  },\n  data: [{\n    x: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n    y: [-22258.62, -19341.75, -19674.89, -18135.07, -18576.98, -17191.18, -15894.16, -14348.42, -13830.52, -18908.49, -22282, -18487.81],\n    name: '2017',\n    type: 'bar'\n  }, {\n    x: [\"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n    y: [-52525.83, -36566.04, -36578.62, -35485.97, -40367.4, -54592.95, -44747.68, -47542.37, -21399.33, -19676.71, -18399.37, -20579.74, -16905.96, -16494.3, -14170.28, -15121.96, -15534.51, -17244.41, -17986.74, -23654.08],\n    name: '2018',\n    type: 'bar'\n  }, {\n    x: [\"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"Dec\", \"Dec\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"Dec\", \"Oct\", \"Nov\", \"Dec\", \"Oct\", \"Nov\", \"Dec\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"Dec\", \"Dec\", \"Dec\", \"Dec\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n    y: [-13426.44, 142021.84, 174228.97, 185251.28, 410005.32, 407173.31, 68274.6, 8257.4, 46786.05, 316001, 324478.48, 329400.06, 363569.21, -10619.84, 4374.61, 6176.04, 5849.38, 8106.87, 49877.4, 127106.83, 216141.77, 231613.93, 33132.9, 53603, 57384.2, -50101.33, -44087.85, -45293.79, -40285.61, -43180.68, -36533.33, -30572.78, -36527.5, -35071.6, -39022.18, -44561.4, -39808.55, 42612.65, 102833.07, -3326.98, 6601.89, -19514.1, -19322.37, -18437.41, -17235.54, -15862.74, -16837.81, -13431.07, -14319.29, -15076.65, -15056.28, -15363.37, -15187.83, -53102.63, 57498.88, 85701.76, 63208.5, 74687.43, 95313.85],\n    name: '2019',\n    type: 'bar'\n  }, {\n    x: [\"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\"],\n    y: [1551018.37, 1406195.67, 1206596.56, 1124306.54, 995445.78, 1001776.25, 376249.93, 342711.1, 344639.07, 290490.58, 276318.4, 228227.62, 234160.33, 113345.9, 99996.16, 94463.92, 71290.6, 65181.62, 37358.3, 37094.93, 11245.7, 10610.9, 11063.1, 10363.2, 5178.9, 258.2, 297, 214.6, 351710.06, 321788.83, 327001.81, 298113.74, 283908.8, 279755.64, 275446.11, 7722.65, 7347.8, 7553.88, 2727.67, 2840.19, 2247.3, 928.06, 68929.3, 64378.5, 59726.7, 47824.4, 44034, 39363.1, 42847.4, 33874, 27121.21, 306606.79, 281683.71, 264369.8, 239898.28, 236166.21, -20062.3, -19724.18, -20870.8, -17640.9, -18425.13, -14217.57, -28309.1, 8810.04, 3331.43, 3994.9, 3046.2, 4439.96, 220063.71, 206266.11, 205792.85, 170217.01, 155447.61, 137833.25, 137469.53, 56197, 50950.7, 52920.1, 50616.8, 46136.5, 42797.7, 42853.3, 33676.4, -48152.97, -40276.14, -40496.75, -45918.29, -39623.1, -37525.6, -36506.72, 110137.36, 78550.64, 86849.44, 38371.24, 50145.68, 9780.27, 40148.28, 143659.68, 124145.44, 136744.65, 126390.24, 117987.9, 103870.98, 99911.33, 11247.1, 10656.08, 12642.87, 3464.08, 4717.78, 4125.24, 1074.06, 17080.1, 16814.13, 18410.89, 13601.14, 11365.52, 14213.02, 12808.35, -15334.06, -12711.22, -17011.69, -16978.63, -14416.92, -13164.52, -11422.42, 98289.64, 94774.47, 105668.63, 88028.83, 93891.84, 65149.96, 72616.67],\n    name: '2020',\n    type: 'bar'\n  }]\n};\n/* Pie charts */\n\nvar transfer_percent = {\n  layout: {\n    title: 'Процент передачи показаний приборов технического учета за месяц'\n  },\n  data: [{\n    values: [],\n    labels: ['', 'other'],\n    type: 'pie',\n    hole: hole_size,\n    textinfo: 'none'\n  }]\n};\nvar difference_percent = {\n  layout: {\n    showlegend: false,\n    hoverinfo: 'none',\n    width: 300,\n    height: 300,\n    title: {\n      text: 'Процент несоответствия предиктивного <br>и фактического небалансов',\n      x: 0.5,\n      xanchor: 'center',\n      y: 0.2,\n      yanchor: 'bottom',\n      font: pie_title_font\n    },\n    legend: pie_legend,\n    annotations: pie_annotations\n  },\n  data: [{\n    values: [],\n    labels: ['', ''],\n    type: 'pie',\n    hole: hole_size,\n    textinfo: 'none',\n    hoverinfo: 'none',\n    marker: pie_markers\n  }],\n  config: {\n    responsive: true\n  }\n};\nvar person_trust_index = {\n  layout: {\n    showlegend: false,\n    hoverinfo: 'none',\n    width: 300,\n    height: 300,\n    title: {\n      text: 'Индекс доверия показаниям <br> физических лиц в ПСК',\n      x: 0.5,\n      xanchor: 'center',\n      y: 0.2,\n      yanchor: 'bottom',\n      font: pie_title_font\n    },\n    legend: pie_legend,\n    annotations: pie_annotations\n  },\n  data: [{\n    values: [''],\n    labels: ['', ''],\n    type: 'pie',\n    hole: hole_size,\n    textinfo: 'none',\n    hoverinfo: 'none',\n    marker: pie_markers\n  }],\n  config: {\n    responsive: true\n  }\n};\nvar tech_loss_index = {\n  layout: {\n    showlegend: false,\n    hoverinfo: 'none',\n    width: 300,\n    height: 300,\n    title: {\n      text: 'Индекс технических потерь',\n      x: 0.5,\n      xanchor: 'center',\n      y: 0.2,\n      yanchor: 'bottom',\n      font: pie_title_font\n    },\n    legend: pie_legend,\n    annotations: pie_annotations\n  },\n  data: [{\n    values: [''],\n    labels: ['', ''],\n    type: 'pie',\n    hole: hole_size,\n    textinfo: 'none',\n    hoverinfo: 'none',\n    marker: pie_markers\n  }],\n  config: {\n    responsive: true\n  }\n};\nvar house_trust_index = {\n  layout: {\n    showlegend: false,\n    hoverinfo: 'none',\n    width: 300,\n    height: 300,\n    title: {\n      text: 'Индекс доверия показаниям общедомовых нужд в ПСК',\n      x: 0.5,\n      xanchor: 'center',\n      y: 0.2,\n      yanchor: 'bottom',\n      font: pie_title_font\n    },\n    legend: pie_legend,\n    annotations: pie_annotations\n  },\n  data: [{\n    values: [],\n    labels: ['', ''],\n    type: 'pie',\n    hole: hole_size,\n    textinfo: 'none',\n    hoverinfo: 'none',\n    marker: pie_markers\n  }],\n  config: {\n    responsive: true\n  }\n};\nvar compnay_trust_index = {\n  layout: {\n    showlegend: false,\n    hoverinfo: 'none',\n    width: 300,\n    height: 300,\n    title: {\n      text: 'Индекс доверия показаниям юридических лиц в ПСК',\n      x: 0.5,\n      xanchor: 'center',\n      y: 0.2,\n      yanchor: 'bottom',\n      font: pie_title_font\n    },\n    legend: pie_legend,\n    annotations: pie_annotations\n  },\n  data: [{\n    values: [],\n    labels: ['', ''],\n    type: 'pie',\n    hole: hole_size,\n    textinfo: 'none',\n    hoverinfo: 'none',\n    marker: pie_markers\n  }],\n  config: {\n    responsive: true\n  }\n};\n/* Bar charts */\n\nvar month_input = {\n  layout: {\n    title: 'График суммарных помесчных показаний согласно приборам учета, кВтч'\n  },\n  data: [{\n    x: [],\n    y: [],\n    type: 'bar'\n  }]\n};\nvar month_psk_out = {\n  layout: {\n    title: 'График суммарных помесчных показаний от ПСК, кВтч'\n  },\n  data: [{\n    x: [],\n    y: [],\n    type: 'bar'\n  }]\n};\nvar balance_group_tech_loss = {\n  layout: {\n    title: 'Технические потери на балансовой группе, кВтч'\n  },\n  data: [{\n    x: [],\n    y: [],\n    type: 'bar'\n  }]\n};\nvar meter_avg = {\n  layout: {\n    title: 'Передача показаний приборов технического учета, %'\n  },\n  data: [{\n    x: [],\n    y: [],\n    type: 'bar'\n  }]\n};\n\nfunction createDataArrayPie(rowData, balance_index, chart_data, key) {\n  var genuion_value = 0;\n  chart_data.data[0].values = [];\n  chart_data.layout.annotations[0].text = '';\n  genuion_value = parseInt(rowData.find(element => element.balance_index == balance_index)[key]);\n  var rest_value = 100 - genuion_value;\n  chart_data.data[0].values.push(genuion_value, rest_value);\n  chart_data.layout.annotations[0].text = genuion_value;\n\n  if (genuion_value > 50) {\n    chart_data.layout.annotations[1].text = 'Высокий';\n    chart_data.layout.annotations[1].font.color = '#D33126';\n    chart_data.layout.annotations[1].font.bgcolor = 'rgba(222, 32, 19, 0.4)';\n  } else {\n    chart_data.layout.annotations[1].text = 'Низкий';\n    chart_data.layout.annotations[1].font.color = '#21BA49';\n    chart_data.layout.annotations[1].font.bgcolor = 'rgba(96, 200, 125, 0.4)';\n  }\n}\n\nfunction createDataArrayBar(rawData, balance_index) {\n  rawData.map(function (item) {\n    if (item.balance_id.toString() == balance_index.toString()) {\n      month_input.data[0].x.push(item.date_month);\n      month_input.data[0].y.push(item.input_month);\n      month_psk_out.data[0].x.push(item.date_month);\n      month_psk_out.data[0].y.push(item.out_psk_month);\n      balance_group_tech_loss.data[0].x.push(item.date_month_text);\n      balance_group_tech_loss.data[0].y.push(item.imbalance_kwh);\n      meter_avg.data[0].x.push(item.date_month_text);\n      meter_avg.data[0].y.push(item.na_meter_avg);\n    }\n  });\n}\n\nexport class GraphicGroup extends React.Component {\n  constructor(props) {\n    super(props); // this.state = { data: [], layout: {}, config: {}, revision: 0 };\n  }\n\n  render() {\n    const filterText = this.props.filterText;\n\n    if (filterText !== '') {\n      updateGraphic(this.props.filterText);\n      console.log(month_input.data);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 832,\n        columnNumber: 13\n      }\n    }, filterText !== '' ? [/*#__PURE__*/React.createElement(\"div\", {\n      key: \"div2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 836,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Plot, {\n      data: difference_percent.data,\n      layout: difference_percent.layout,\n      config: difference_percent.config,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 837,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Plot, {\n      data: person_trust_index.data,\n      layout: person_trust_index.layout,\n      config: person_trust_index.config,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 838,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Plot, {\n      data: tech_loss_index.data,\n      layout: tech_loss_index.layout,\n      config: tech_loss_index.config,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 839,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Plot, {\n      data: house_trust_index.data,\n      layout: house_trust_index.layout,\n      config: house_trust_index.config,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 840,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Plot, {\n      data: compnay_trust_index.data,\n      layout: compnay_trust_index.layout,\n      config: compnay_trust_index.config,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 841,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Plot, {\n      data: month_input.data,\n      layout: month_input.layout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 843,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Plot, {\n      data: month_psk_out.data,\n      layout: month_psk_out.layout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 844,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Plot, {\n      data: balance_group_tech_loss.data,\n      layout: balance_group_tech_loss.layout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 845,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Plot, {\n      data: meter_avg.data,\n      layout: meter_avg.layout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 846,\n        columnNumber: 13\n      }\n    }))] : null);\n  }\n\n}\n\nfunction updateGraphic(filterText) {\n  createDataArrayPie(differencePercent, filterText, difference_percent, 'difference_unbalance');\n  createDataArrayPie(indexes, filterText, person_trust_index, 'entity_conf');\n  createDataArrayPie(tech_losses, filterText, tech_loss_index, 'percent_technical_losses');\n  createDataArrayPie(indexes, filterText, house_trust_index, 'population_conf');\n  createDataArrayPie(indexes, filterText, compnay_trust_index, 'utility_conf');\n  createDataArrayBar(full_res, filterText);\n}","map":{"version":3,"sources":["C:/Users/vlasoks/Documents/GitHub/SUPE-map-demo/src/components/Graphic2.js"],"names":["React","Plotly","createPlotlyComponent","differencePercent","indexes","tech_losses","full_res","Plot","hole_size","pie_colors","pie_legend","xanchor","yanchor","y","x","pie_annotations","font","size","color","showarrow","text","bgcolor","pie_markers","colors","pie_title_font","imbalance_psk_pu","layout","title","data","name","type","transfer_percent","values","labels","hole","textinfo","difference_percent","showlegend","hoverinfo","width","height","legend","annotations","marker","config","responsive","person_trust_index","tech_loss_index","house_trust_index","compnay_trust_index","month_input","month_psk_out","balance_group_tech_loss","meter_avg","createDataArrayPie","rowData","balance_index","chart_data","key","genuion_value","parseInt","find","element","rest_value","push","createDataArrayBar","rawData","map","item","balance_id","toString","date_month","input_month","out_psk_month","date_month_text","imbalance_kwh","na_meter_avg","GraphicGroup","Component","constructor","props","render","filterText","updateGraphic","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Plotly from \"plotly.js\"\r\nimport createPlotlyComponent from 'react-plotly.js/factory';\r\nimport differencePercent from '../data/graphic/transfer_percent.json'\r\nimport indexes from '../data/graphic/indexes.json'\r\nimport tech_losses from '../data/graphic/tech_losses.json'\r\nimport full_res from '../data/graphic/full_res_imbalance.json'\r\nconst Plot = createPlotlyComponent(Plotly);\r\n\r\nconst hole_size = .6;\r\nconst pie_colors = ['rgb(65,123,236)', 'rgba(140, 148, 158, 0.2)'];\r\nconst pie_legend = {\r\n  xanchor: \"center\",\r\n  yanchor: \"top\",\r\n  y: -0.3, // play with it\r\n  x: 0.5 // play with it\r\n};\r\nconst pie_annotations = [\r\n  {\r\n    font: {\r\n      size: 25,\r\n      color: \"#252F4A\"\r\n    },\r\n    showarrow: false,\r\n    text: '',\r\n    x: 0.5,\r\n    y: 0.5\r\n  }, {\r\n    font: {\r\n      size: 12,\r\n      color: ''\r\n    },\r\n    showarrow: false,\r\n    text: '',\r\n    x: 0.5,\r\n    xanchor: 'center',\r\n    y: -0.5,\r\n    bgcolor: '',\r\n    // opacity: 0.3,\r\n    // borderRadius: 4,\r\n  }\r\n\r\n];\r\nconst pie_markers = {\r\n  colors: pie_colors\r\n};\r\nconst pie_title_font = {\r\n  size: 12,\r\n  color: '#818E9B'\r\n}\r\n\r\nvar imbalance_psk_pu = {\r\n  layout: {\r\n    title: 'График небалансов между показаниями ПСК и ПУ, в % от ПУ'\r\n  },\r\n  data: [\r\n    {\r\n      x: [\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\"\r\n      ],\r\n      y: [\r\n        -22258.62,\r\n        -19341.75,\r\n        -19674.89,\r\n        -18135.07,\r\n        -18576.98,\r\n        -17191.18,\r\n        -15894.16,\r\n        -14348.42,\r\n        -13830.52,\r\n        -18908.49,\r\n        -22282,\r\n        -18487.81\r\n      ],\r\n      name: '2017',\r\n      type: 'bar'\r\n    }, {\r\n      x: [\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\"\r\n      ],\r\n      y: [\r\n        -52525.83,\r\n        -36566.04,\r\n        -36578.62,\r\n        -35485.97,\r\n        -40367.4,\r\n        -54592.95,\r\n        -44747.68,\r\n        -47542.37,\r\n        -21399.33,\r\n        -19676.71,\r\n        -18399.37,\r\n        -20579.74,\r\n        -16905.96,\r\n        -16494.3,\r\n        -14170.28,\r\n        -15121.96,\r\n        -15534.51,\r\n        -17244.41,\r\n        -17986.74,\r\n        -23654.08\r\n      ],\r\n      name: '2018',\r\n      type: 'bar'\r\n    },\r\n     {\r\n      x: [\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\",\r\n        \"Dec\",\r\n        \"Dec\",\r\n        \"Aug\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\",\r\n        \"Aug\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\",\r\n        \"Dec\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\",\r\n        \"Dec\",\r\n        \"Dec\",\r\n        \"Dec\",\r\n        \"Dec\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\",\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Sep\",\r\n        \"Oct\",\r\n        \"Nov\",\r\n        \"Dec\"\r\n      ],\r\n      y: [\r\n        -13426.44,\r\n        142021.84,\r\n        174228.97,\r\n        185251.28,\r\n        410005.32,\r\n        407173.31,\r\n        68274.6,\r\n        8257.4,\r\n        46786.05,\r\n        316001,\r\n        324478.48,\r\n        329400.06,\r\n        363569.21,\r\n        -10619.84,\r\n        4374.61,\r\n        6176.04,\r\n        5849.38,\r\n        8106.87,\r\n        49877.4,\r\n        127106.83,\r\n        216141.77,\r\n        231613.93,\r\n        33132.9,\r\n        53603,\r\n        57384.2,\r\n        -50101.33,\r\n        -44087.85,\r\n        -45293.79,\r\n        -40285.61,\r\n        -43180.68,\r\n        -36533.33,\r\n        -30572.78,\r\n        -36527.5,\r\n        -35071.6,\r\n        -39022.18,\r\n        -44561.4,\r\n        -39808.55,\r\n        42612.65,\r\n        102833.07,\r\n        -3326.98,\r\n        6601.89,\r\n        -19514.1,\r\n        -19322.37,\r\n        -18437.41,\r\n        -17235.54,\r\n        -15862.74,\r\n        -16837.81,\r\n        -13431.07,\r\n        -14319.29,\r\n        -15076.65,\r\n        -15056.28,\r\n        -15363.37,\r\n        -15187.83,\r\n        -53102.63,\r\n        57498.88,\r\n        85701.76,\r\n        63208.5,\r\n        74687.43,\r\n        95313.85\r\n      ],\r\n      name: '2019',\r\n      type: 'bar'\r\n    },\r\n     {\r\n      x: [\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Aug\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\",\r\n        \"Jan\",\r\n        \"Feb\",\r\n        \"Mar\",\r\n        \"Apr\",\r\n        \"May\",\r\n        \"Jun\",\r\n        \"Jul\"\r\n      ],\r\n      y: [\r\n        1551018.37,\r\n        1406195.67,\r\n        1206596.56,\r\n        1124306.54,\r\n        995445.78,\r\n        1001776.25,\r\n        376249.93,\r\n        342711.1,\r\n        344639.07,\r\n        290490.58,\r\n        276318.4,\r\n        228227.62,\r\n        234160.33,\r\n        113345.9,\r\n        99996.16,\r\n        94463.92,\r\n        71290.6,\r\n        65181.62,\r\n        37358.3,\r\n        37094.93,\r\n        11245.7,\r\n        10610.9,\r\n        11063.1,\r\n        10363.2,\r\n        5178.9,\r\n        258.2,\r\n        297,\r\n        214.6,\r\n        351710.06,\r\n        321788.83,\r\n        327001.81,\r\n        298113.74,\r\n        283908.8,\r\n        279755.64,\r\n        275446.11,\r\n        7722.65,\r\n        7347.8,\r\n        7553.88,\r\n        2727.67,\r\n        2840.19,\r\n        2247.3,\r\n        928.06,\r\n        68929.3,\r\n        64378.5,\r\n        59726.7,\r\n        47824.4,\r\n        44034,\r\n        39363.1,\r\n        42847.4,\r\n        33874,\r\n        27121.21,\r\n        306606.79,\r\n        281683.71,\r\n        264369.8,\r\n        239898.28,\r\n        236166.21,\r\n        -20062.3,\r\n        -19724.18,\r\n        -20870.8,\r\n        -17640.9,\r\n        -18425.13,\r\n        -14217.57,\r\n        -28309.1,\r\n        8810.04,\r\n        3331.43,\r\n        3994.9,\r\n        3046.2,\r\n        4439.96,\r\n        220063.71,\r\n        206266.11,\r\n        205792.85,\r\n        170217.01,\r\n        155447.61,\r\n        137833.25,\r\n        137469.53,\r\n        56197,\r\n        50950.7,\r\n        52920.1,\r\n        50616.8,\r\n        46136.5,\r\n        42797.7,\r\n        42853.3,\r\n        33676.4,\r\n        -48152.97,\r\n        -40276.14,\r\n        -40496.75,\r\n        -45918.29,\r\n        -39623.1,\r\n        -37525.6,\r\n        -36506.72,\r\n        110137.36,\r\n        78550.64,\r\n        86849.44,\r\n        38371.24,\r\n        50145.68,\r\n        9780.27,\r\n        40148.28,\r\n        143659.68,\r\n        124145.44,\r\n        136744.65,\r\n        126390.24,\r\n        117987.9,\r\n        103870.98,\r\n        99911.33,\r\n        11247.1,\r\n        10656.08,\r\n        12642.87,\r\n        3464.08,\r\n        4717.78,\r\n        4125.24,\r\n        1074.06,\r\n        17080.1,\r\n        16814.13,\r\n        18410.89,\r\n        13601.14,\r\n        11365.52,\r\n        14213.02,\r\n        12808.35,\r\n        -15334.06,\r\n        -12711.22,\r\n        -17011.69,\r\n        -16978.63,\r\n        -14416.92,\r\n        -13164.52,\r\n        -11422.42,\r\n        98289.64,\r\n        94774.47,\r\n        105668.63,\r\n        88028.83,\r\n        93891.84,\r\n        65149.96,\r\n        72616.67\r\n      ],\r\n      name: '2020',\r\n      type: 'bar'\r\n    }\r\n\r\n  ]\r\n\r\n};\r\n/* Pie charts */\r\nvar transfer_percent = {\r\n  layout: {\r\n    title: 'Процент передачи показаний приборов технического учета за месяц'\r\n  },\r\n  data: [\r\n    {\r\n      values: [],\r\n      labels: [\r\n        '', 'other'\r\n      ],\r\n      type: 'pie',\r\n      hole: hole_size,\r\n      textinfo: 'none'\r\n    }\r\n  ]\r\n};\r\nvar difference_percent = {\r\n  layout: {\r\n    showlegend: false,\r\n    hoverinfo: 'none',\r\n    width: 300,\r\n    height: 300,\r\n    title: {\r\n      text: 'Процент несоответствия предиктивного <br>и фактического небалансов',\r\n      x: 0.5,\r\n      xanchor: 'center',\r\n      y: 0.2,\r\n      yanchor: 'bottom',\r\n      font: pie_title_font\r\n    },\r\n    legend: pie_legend,\r\n    annotations: pie_annotations\r\n  },\r\n  data: [\r\n    {\r\n      values: [],\r\n      labels: [\r\n        '', ''\r\n      ],\r\n      type: 'pie',\r\n      hole: hole_size,\r\n      textinfo: 'none',\r\n      hoverinfo: 'none',\r\n      marker: pie_markers\r\n    }\r\n  ],\r\n  config: {\r\n    responsive: true\r\n  }\r\n};\r\nvar person_trust_index = {\r\n  layout: {\r\n    showlegend: false,\r\n    hoverinfo: 'none',\r\n    width: 300,\r\n    height: 300,\r\n    title: {\r\n      text: 'Индекс доверия показаниям <br> физических лиц в ПСК',\r\n      x: 0.5,\r\n      xanchor: 'center',\r\n      y: 0.2,\r\n      yanchor: 'bottom',\r\n      font: pie_title_font\r\n    },\r\n    legend: pie_legend,\r\n    annotations: pie_annotations\r\n  },\r\n  data: [\r\n    {\r\n      values: [''],\r\n      labels: [\r\n        '', ''\r\n      ],\r\n      type: 'pie',\r\n      hole: hole_size,\r\n      textinfo: 'none',\r\n      hoverinfo: 'none',\r\n      marker: pie_markers\r\n    }\r\n  ],\r\n  config: {\r\n    responsive: true\r\n  }\r\n};\r\nvar tech_loss_index = {\r\n  layout: {\r\n    showlegend: false,\r\n    hoverinfo: 'none',\r\n    width: 300,\r\n    height: 300,\r\n    title: {\r\n      text: 'Индекс технических потерь',\r\n      x: 0.5,\r\n      xanchor: 'center',\r\n      y: 0.2,\r\n      yanchor: 'bottom',\r\n      font: pie_title_font\r\n    },\r\n    legend: pie_legend,\r\n    annotations: pie_annotations\r\n  },\r\n  data: [\r\n    {\r\n      values: [''],\r\n      labels: [\r\n        '', ''\r\n      ],\r\n      type: 'pie',\r\n      hole: hole_size,\r\n      textinfo: 'none',\r\n      hoverinfo: 'none',\r\n      marker: pie_markers\r\n    }\r\n  ],\r\n  config: {\r\n    responsive: true\r\n  }\r\n};\r\nvar house_trust_index = {\r\n  layout: {\r\n    showlegend: false,\r\n    hoverinfo: 'none',\r\n    width: 300,\r\n    height: 300,\r\n    title: {\r\n      text: 'Индекс доверия показаниям общедомовых нужд в ПСК',\r\n      x: 0.5,\r\n      xanchor: 'center',\r\n      y: 0.2,\r\n      yanchor: 'bottom',\r\n      font: pie_title_font\r\n    },\r\n    legend: pie_legend,\r\n    annotations: pie_annotations\r\n  },\r\n  data: [\r\n    {\r\n      values: [],\r\n      labels: [\r\n        '', ''\r\n      ],\r\n      type: 'pie',\r\n      hole: hole_size,\r\n      textinfo: 'none',\r\n      hoverinfo: 'none',\r\n      marker: pie_markers\r\n    }\r\n  ],\r\n  config: {\r\n    responsive: true\r\n  }\r\n};\r\nvar compnay_trust_index = {\r\n  layout: {\r\n    showlegend: false,\r\n    hoverinfo: 'none',\r\n    width: 300,\r\n    height: 300,\r\n    title: {\r\n      text: 'Индекс доверия показаниям юридических лиц в ПСК',\r\n      x: 0.5,\r\n      xanchor: 'center',\r\n      y: 0.2,\r\n      yanchor: 'bottom',\r\n      font: pie_title_font\r\n    },\r\n    legend: pie_legend,\r\n    annotations: pie_annotations\r\n  },\r\n  data: [\r\n    {\r\n      values: [],\r\n      labels: [\r\n        '', ''\r\n      ],\r\n      type: 'pie',\r\n      hole: hole_size,\r\n      textinfo: 'none',\r\n      hoverinfo: 'none',\r\n      marker: pie_markers\r\n    }\r\n  ],\r\n  config: {\r\n    responsive: true\r\n  }\r\n};\r\n/* Bar charts */\r\nvar month_input = {\r\n  layout: {\r\n    title: 'График суммарных помесчных показаний согласно приборам учета, кВтч'\r\n  },\r\n  data: [\r\n    {\r\n      x: [],\r\n      y: [],\r\n      type: 'bar'\r\n    }\r\n  ]\r\n\r\n};\r\nvar month_psk_out = {\r\n  layout: {\r\n    title: 'График суммарных помесчных показаний от ПСК, кВтч'\r\n  },\r\n  data: [\r\n    {\r\n    x: [],\r\n    y: [],\r\n    type: 'bar'\r\n  }\r\n]\r\n\r\n};\r\nvar balance_group_tech_loss = {\r\n  layout: {\r\n    title: 'Технические потери на балансовой группе, кВтч'\r\n  },\r\n  data: [\r\n    {\r\n    x: [],\r\n    y: [],\r\n    type: 'bar'\r\n  }]\r\n\r\n};\r\nvar meter_avg = {\r\n  layout: {\r\n    title: 'Передача показаний приборов технического учета, %'\r\n  },\r\n  data: [\r\n    {\r\n    x: [],\r\n    y: [],\r\n    type: 'bar'\r\n  }]\r\n\r\n};\r\n\r\nfunction createDataArrayPie(rowData, balance_index, chart_data, key) {\r\n\r\n  var genuion_value = 0\r\n  chart_data.data[0].values = [];\r\n  chart_data.layout.annotations[0].text = '';\r\n\r\n  genuion_value = parseInt(rowData.find(element => element.balance_index == balance_index)[key]);\r\n  var rest_value = 100 - genuion_value;\r\n\r\n  chart_data.data[0].values.push(genuion_value, rest_value);\r\n  chart_data.layout.annotations[0].text = genuion_value;\r\n\r\n  if (genuion_value > 50) {\r\n    chart_data.layout.annotations[1].text = 'Высокий';\r\n    chart_data.layout.annotations[1].font.color = '#D33126';\r\n    chart_data.layout.annotations[1].font.bgcolor = 'rgba(222, 32, 19, 0.4)';\r\n  } else {\r\n    chart_data.layout.annotations[1].text = 'Низкий';\r\n    chart_data.layout.annotations[1].font.color = '#21BA49';\r\n    chart_data.layout.annotations[1].font.bgcolor = 'rgba(96, 200, 125, 0.4)';\r\n  }\r\n\r\n}\r\n\r\nfunction createDataArrayBar(rawData, balance_index) {\r\n\r\n  rawData.map(function(item) {\r\n    if (item.balance_id.toString() == balance_index.toString()) {\r\n      month_input.data[0].x.push(item.date_month);\r\n      month_input.data[0].y.push(item.input_month);\r\n      month_psk_out.data[0].x.push(item.date_month);\r\n      month_psk_out.data[0].y.push(item.out_psk_month);\r\n      balance_group_tech_loss.data[0].x.push(item.date_month_text);\r\n      balance_group_tech_loss.data[0].y.push(item.imbalance_kwh);\r\n      meter_avg.data[0].x.push(item.date_month_text);\r\n      meter_avg.data[0].y.push(item.na_meter_avg);\r\n    }\r\n  });\r\n}\r\n\r\nexport class GraphicGroup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // this.state = { data: [], layout: {}, config: {}, revision: 0 };\r\n  }\r\n\r\n  render() {\r\n    const filterText = this.props.filterText;\r\n\r\n    if (filterText !== '') {\r\n      updateGraphic(this.props.filterText);\r\n\r\n      console.log(month_input.data);\r\n    }\r\n\r\n    return (<div>\r\n\r\n      {\r\n        filterText !== ''\r\n          ? [<div key='div2'>\r\n            <Plot data={difference_percent.data} layout={difference_percent.layout} config={difference_percent.config}/>\r\n            <Plot data={person_trust_index.data} layout={person_trust_index.layout} config={person_trust_index.config}/>\r\n            <Plot data={tech_loss_index.data} layout={tech_loss_index.layout} config={tech_loss_index.config}/>\r\n            <Plot data={house_trust_index.data} layout={house_trust_index.layout} config={house_trust_index.config}/>\r\n            <Plot data={compnay_trust_index.data} layout={compnay_trust_index.layout} config={compnay_trust_index.config}/>\r\n\r\n            <Plot data={month_input.data} layout={month_input.layout}/>\r\n            <Plot data={month_psk_out.data} layout={month_psk_out.layout}/>\r\n            <Plot data={balance_group_tech_loss.data} layout={balance_group_tech_loss.layout}/>\r\n            <Plot data={meter_avg.data} layout={meter_avg.layout}/>\r\n\r\n          </div>\r\n            ]\r\n          : null\r\n      }\r\n    </div>);\r\n\r\n  }\r\n}\r\nfunction updateGraphic(filterText) {\r\n  createDataArrayPie(differencePercent, filterText, difference_percent, 'difference_unbalance');\r\n  createDataArrayPie(indexes, filterText, person_trust_index, 'entity_conf');\r\n  createDataArrayPie(tech_losses, filterText, tech_loss_index, 'percent_technical_losses');\r\n  createDataArrayPie(indexes, filterText, house_trust_index, 'population_conf');\r\n  createDataArrayPie(indexes, filterText, compnay_trust_index, 'utility_conf');\r\n\r\n  createDataArrayBar(full_res, filterText)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}