{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vlasoks\\\\Documents\\\\GitHub\\\\SUPE-map-demo\\\\src\\\\components\\\\Graphic2.js\";\nimport React from 'react';\nimport Plotly from \"plotly.js\";\nimport createPlotlyComponent from 'react-plotly.js/factory';\nimport differencePercent from '../data/graphic/transfer_percent.json';\nimport indexes from '../data/graphic/indexes.json';\nimport tech_losses from '../data/graphic/tech_losses.json';\nimport full_res from '../data/graphic/full_res_imbalance.json';\nconst Plot = createPlotlyComponent(Plotly);\nconst hole_size = .6;\nconst pie_colors = ['rgb(65,123,236)', 'rgba(140, 148, 158, 0.2)'];\nconst pie_legend = {\n  xanchor: \"center\",\n  yanchor: \"top\",\n  y: -0.3,\n  // play with it\n  x: 0.5 // play with it\n\n};\nconst pie_annotations = [{\n  font: {\n    size: 25,\n    color: \"#252F4A\"\n  },\n  showarrow: false,\n  text: '',\n  x: 0.5,\n  y: 0.5\n}, {\n  font: {\n    size: 12,\n    color: ''\n  },\n  showarrow: false,\n  text: '',\n  x: 0.5,\n  xanchor: 'center',\n  y: -0.5,\n  bgcolor: '' // opacity: 0.3,\n  // borderRadius: 4,\n\n}];\nconst pie_markers = {\n  colors: pie_colors\n};\nconst pie_title_font = {\n  size: 12,\n  color: '#818E9B'\n}; // const imbalance_psk_pu = {\n//   layout: {\n//     title: 'График небалансов между показаниями ПСК и ПУ, в % от ПУ'\n//   },\n//   data: [\n//     {\n//       x: [\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Aug\",\n//         \"Sep\",\n//         \"Oct\",\n//         \"Nov\",\n//         \"Dec\"\n//       ],\n//       y: [\n//         -22258.62,\n//         -19341.75,\n//         -19674.89,\n//         -18135.07,\n//         -18576.98,\n//         -17191.18,\n//         -15894.16,\n//         -14348.42,\n//         -13830.52,\n//         -18908.49,\n//         -22282,\n//         -18487.81\n//       ],\n//       name: '2017',\n//       type: 'bar'\n//     }, {\n//       x: [\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Aug\",\n//         \"Sep\",\n//         \"Oct\",\n//         \"Nov\",\n//         \"Dec\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Aug\",\n//         \"Sep\",\n//         \"Oct\",\n//         \"Nov\",\n//         \"Dec\"\n//       ],\n//       y: [\n//         -52525.83,\n//         -36566.04,\n//         -36578.62,\n//         -35485.97,\n//         -40367.4,\n//         -54592.95,\n//         -44747.68,\n//         -47542.37,\n//         -21399.33,\n//         -19676.71,\n//         -18399.37,\n//         -20579.74,\n//         -16905.96,\n//         -16494.3,\n//         -14170.28,\n//         -15121.96,\n//         -15534.51,\n//         -17244.41,\n//         -17986.74,\n//         -23654.08\n//       ],\n//       name: '2018',\n//       type: 'bar'\n//     }, {\n//       x: [\n//         \"Jul\",\n//         \"Aug\",\n//         \"Sep\",\n//         \"Oct\",\n//         \"Nov\",\n//         \"Dec\",\n//         \"Dec\",\n//         \"Dec\",\n//         \"Aug\",\n//         \"Sep\",\n//         \"Oct\",\n//         \"Nov\",\n//         \"Dec\",\n//         \"Aug\",\n//         \"Sep\",\n//         \"Oct\",\n//         \"Nov\",\n//         \"Dec\",\n//         \"Dec\",\n//         \"Oct\",\n//         \"Nov\",\n//         \"Dec\",\n//         \"Oct\",\n//         \"Nov\",\n//         \"Dec\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Aug\",\n//         \"Sep\",\n//         \"Oct\",\n//         \"Nov\",\n//         \"Dec\",\n//         \"Dec\",\n//         \"Dec\",\n//         \"Dec\",\n//         \"Dec\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Aug\",\n//         \"Sep\",\n//         \"Oct\",\n//         \"Nov\",\n//         \"Dec\",\n//         \"Jul\",\n//         \"Aug\",\n//         \"Sep\",\n//         \"Oct\",\n//         \"Nov\",\n//         \"Dec\"\n//       ],\n//       y: [\n//         -13426.44,\n//         142021.84,\n//         174228.97,\n//         185251.28,\n//         410005.32,\n//         407173.31,\n//         68274.6,\n//         8257.4,\n//         46786.05,\n//         316001,\n//         324478.48,\n//         329400.06,\n//         363569.21,\n//         -10619.84,\n//         4374.61,\n//         6176.04,\n//         5849.38,\n//         8106.87,\n//         49877.4,\n//         127106.83,\n//         216141.77,\n//         231613.93,\n//         33132.9,\n//         53603,\n//         57384.2,\n//         -50101.33,\n//         -44087.85,\n//         -45293.79,\n//         -40285.61,\n//         -43180.68,\n//         -36533.33,\n//         -30572.78,\n//         -36527.5,\n//         -35071.6,\n//         -39022.18,\n//         -44561.4,\n//         -39808.55,\n//         42612.65,\n//         102833.07,\n//         -3326.98,\n//         6601.89,\n//         -19514.1,\n//         -19322.37,\n//         -18437.41,\n//         -17235.54,\n//         -15862.74,\n//         -16837.81,\n//         -13431.07,\n//         -14319.29,\n//         -15076.65,\n//         -15056.28,\n//         -15363.37,\n//         -15187.83,\n//         -53102.63,\n//         57498.88,\n//         85701.76,\n//         63208.5,\n//         74687.43,\n//         95313.85\n//       ],\n//       name: '2019',\n//       type: 'bar'\n//     }, {\n//       x: [\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Aug\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Aug\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Aug\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\",\n//         \"Jan\",\n//         \"Feb\",\n//         \"Mar\",\n//         \"Apr\",\n//         \"May\",\n//         \"Jun\",\n//         \"Jul\"\n//       ],\n//       y: [\n//         1551018.37,\n//         1406195.67,\n//         1206596.56,\n//         1124306.54,\n//         995445.78,\n//         1001776.25,\n//         376249.93,\n//         342711.1,\n//         344639.07,\n//         290490.58,\n//         276318.4,\n//         228227.62,\n//         234160.33,\n//         113345.9,\n//         99996.16,\n//         94463.92,\n//         71290.6,\n//         65181.62,\n//         37358.3,\n//         37094.93,\n//         11245.7,\n//         10610.9,\n//         11063.1,\n//         10363.2,\n//         5178.9,\n//         258.2,\n//         297,\n//         214.6,\n//         351710.06,\n//         321788.83,\n//         327001.81,\n//         298113.74,\n//         283908.8,\n//         279755.64,\n//         275446.11,\n//         7722.65,\n//         7347.8,\n//         7553.88,\n//         2727.67,\n//         2840.19,\n//         2247.3,\n//         928.06,\n//         68929.3,\n//         64378.5,\n//         59726.7,\n//         47824.4,\n//         44034,\n//         39363.1,\n//         42847.4,\n//         33874,\n//         27121.21,\n//         306606.79,\n//         281683.71,\n//         264369.8,\n//         239898.28,\n//         236166.21,\n//         -20062.3,\n//         -19724.18,\n//         -20870.8,\n//         -17640.9,\n//         -18425.13,\n//         -14217.57,\n//         -28309.1,\n//         8810.04,\n//         3331.43,\n//         3994.9,\n//         3046.2,\n//         4439.96,\n//         220063.71,\n//         206266.11,\n//         205792.85,\n//         170217.01,\n//         155447.61,\n//         137833.25,\n//         137469.53,\n//         56197,\n//         50950.7,\n//         52920.1,\n//         50616.8,\n//         46136.5,\n//         42797.7,\n//         42853.3,\n//         33676.4,\n//         -48152.97,\n//         -40276.14,\n//         -40496.75,\n//         -45918.29,\n//         -39623.1,\n//         -37525.6,\n//         -36506.72,\n//         110137.36,\n//         78550.64,\n//         86849.44,\n//         38371.24,\n//         50145.68,\n//         9780.27,\n//         40148.28,\n//         143659.68,\n//         124145.44,\n//         136744.65,\n//         126390.24,\n//         117987.9,\n//         103870.98,\n//         99911.33,\n//         11247.1,\n//         10656.08,\n//         12642.87,\n//         3464.08,\n//         4717.78,\n//         4125.24,\n//         1074.06,\n//         17080.1,\n//         16814.13,\n//         18410.89,\n//         13601.14,\n//         11365.52,\n//         14213.02,\n//         12808.35,\n//         -15334.06,\n//         -12711.22,\n//         -17011.69,\n//         -16978.63,\n//         -14416.92,\n//         -13164.52,\n//         -11422.42,\n//         98289.64,\n//         94774.47,\n//         105668.63,\n//         88028.83,\n//         93891.84,\n//         65149.96,\n//         72616.67\n//       ],\n//       name: '2020',\n//       type: 'bar'\n//     }\n//\n//   ]\n//\n// };\n\n/* Pie charts */\n\nvar transfer_percent = {\n  layout: {\n    title: 'Процент передачи показаний приборов технического учета за месяц'\n  },\n  data: [{\n    values: [],\n    labels: ['', 'other'],\n    type: 'pie',\n    hole: hole_size,\n    textinfo: 'none'\n  }]\n};\nvar difference_percent = {\n  layout: {\n    showlegend: false,\n    hoverinfo: 'none',\n    width: 300,\n    height: 300,\n    title: {\n      text: 'Процент несоответствия предиктивного <br>и фактического небалансов',\n      x: 0.5,\n      xanchor: 'center',\n      y: 0.2,\n      yanchor: 'bottom',\n      font: pie_title_font\n    },\n    legend: pie_legend,\n    annotations: pie_annotations\n  },\n  data: [{\n    values: [],\n    labels: ['', ''],\n    type: 'pie',\n    hole: hole_size,\n    textinfo: 'none',\n    hoverinfo: 'none',\n    marker: pie_markers\n  }],\n  config: {\n    responsive: true\n  }\n};\nvar person_trust_index = {\n  layout: {\n    showlegend: false,\n    hoverinfo: 'none',\n    width: 300,\n    height: 300,\n    title: {\n      text: 'Индекс доверия показаниям <br> физических лиц в ПСК',\n      x: 0.5,\n      xanchor: 'center',\n      y: 0.2,\n      yanchor: 'bottom',\n      font: pie_title_font\n    },\n    legend: pie_legend,\n    annotations: pie_annotations\n  },\n  data: [{\n    values: [''],\n    labels: ['', ''],\n    type: 'pie',\n    hole: hole_size,\n    textinfo: 'none',\n    hoverinfo: 'none',\n    marker: pie_markers\n  }],\n  config: {\n    responsive: true\n  }\n};\nvar tech_loss_index = {\n  layout: {\n    showlegend: false,\n    hoverinfo: 'none',\n    width: 300,\n    height: 300,\n    title: {\n      text: 'Индекс технических потерь',\n      x: 0.5,\n      xanchor: 'center',\n      y: 0.2,\n      yanchor: 'bottom',\n      font: pie_title_font\n    },\n    legend: pie_legend,\n    annotations: pie_annotations\n  },\n  data: [{\n    values: [''],\n    labels: ['', ''],\n    type: 'pie',\n    hole: hole_size,\n    textinfo: 'none',\n    hoverinfo: 'none',\n    marker: pie_markers\n  }],\n  config: {\n    responsive: true\n  }\n};\nvar house_trust_index = {\n  layout: {\n    showlegend: false,\n    hoverinfo: 'none',\n    width: 300,\n    height: 300,\n    title: {\n      text: 'Индекс доверия показаниям общедомовых нужд в ПСК',\n      x: 0.5,\n      xanchor: 'center',\n      y: 0.2,\n      yanchor: 'bottom',\n      font: pie_title_font\n    },\n    legend: pie_legend,\n    annotations: pie_annotations\n  },\n  data: [{\n    values: [],\n    labels: ['', ''],\n    type: 'pie',\n    hole: hole_size,\n    textinfo: 'none',\n    hoverinfo: 'none',\n    marker: pie_markers\n  }],\n  config: {\n    responsive: true\n  }\n};\nvar compnay_trust_index = {\n  layout: {\n    showlegend: false,\n    hoverinfo: 'none',\n    width: 300,\n    height: 300,\n    title: {\n      text: 'Индекс доверия показаниям юридических лиц в ПСК',\n      x: 0.5,\n      xanchor: 'center',\n      y: 0.2,\n      yanchor: 'bottom',\n      font: pie_title_font\n    },\n    legend: pie_legend,\n    annotations: pie_annotations\n  },\n  data: [{\n    values: [],\n    labels: ['', ''],\n    type: 'pie',\n    hole: hole_size,\n    textinfo: 'none',\n    hoverinfo: 'none',\n    marker: pie_markers\n  }],\n  config: {\n    responsive: true\n  }\n};\n/* Bar charts */\n\nconst month_input = {\n  layout: {\n    title: 'График суммарных помесчных показаний согласно приборам учета, кВтч'\n  },\n  data: {\n    x: [],\n    y: [],\n    type: 'bar'\n  }\n};\nconst month_psk_out = {\n  layout: {\n    title: 'График суммарных помесчных показаний от ПСК, кВтч'\n  },\n  data: {\n    x: [],\n    y: [],\n    type: 'bar'\n  }\n};\nconst balance_group_tech_loss = {\n  layout: {\n    title: 'Технические потери на балансовой группе, кВтч'\n  },\n  data: {\n    x: [],\n    y: [],\n    type: 'bar'\n  }\n};\nconst meter_avg = {\n  layout: {\n    title: 'Передача показаний приборов технического учета, %'\n  },\n  data: {\n    x: [],\n    y: [],\n    type: 'bar'\n  }\n};\n\nfunction createDataArrayPie(rowData, balance_index, chart_data, key) {\n  var genuion_value = 0;\n  chart_data.data[0].values = [];\n  chart_data.layout.annotations[0].text = '';\n  genuion_value = parseInt(rowData.find(element => element.balance_index == balance_index)[key]);\n  var rest_value = 100 - genuion_value;\n  chart_data.data[0].values.push(genuion_value, rest_value);\n  chart_data.layout.annotations[0].text = genuion_value;\n\n  if (genuion_value > 50) {\n    chart_data.layout.annotations[1].text = 'Высокий';\n    chart_data.layout.annotations[1].font.color = '#D33126';\n    chart_data.layout.annotations[1].font.bgcolor = 'rgba(222, 32, 19, 0.4)';\n  } else {\n    chart_data.layout.annotations[1].text = 'Низкий';\n    chart_data.layout.annotations[1].font.color = '#21BA49';\n    chart_data.layout.annotations[1].font.bgcolor = 'rgba(96, 200, 125, 0.4)';\n  }\n}\n\nfunction createDataArrayBar(rawData, balance_index) {\n  /*month input graphic*/\n  rawData;\n}\n\nexport class GraphicGroup extends React.Component {\n  constructor(props) {\n    super(props); // this.state = { data: [], layout: {}, config: {}, revision: 0 };\n  }\n\n  render() {\n    const filterText = this.props.filterText;\n\n    if (filterText !== '') {\n      updateGraphic(this.props.filterText);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 815,\n        columnNumber: 13\n      }\n    }, filterText !== '' ? [/*#__PURE__*/React.createElement(\"div\", {\n      key: \"div2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 819,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Plot, {\n      data: difference_percent.data,\n      layout: difference_percent.layout,\n      config: difference_percent.config,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 820,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Plot, {\n      data: person_trust_index.data,\n      layout: person_trust_index.layout,\n      config: person_trust_index.config,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 821,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Plot, {\n      data: tech_loss_index.data,\n      layout: tech_loss_index.layout,\n      config: tech_loss_index.config,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 822,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Plot, {\n      data: house_trust_index.data,\n      layout: house_trust_index.layout,\n      config: house_trust_index.config,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 823,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Plot, {\n      data: compnay_trust_index.data,\n      layout: compnay_trust_index.layout,\n      config: compnay_trust_index.config,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 824,\n        columnNumber: 13\n      }\n    }))] : null);\n  }\n\n}\n\nfunction updateGraphic(filterText) {\n  createDataArrayPie(differencePercent, filterText, difference_percent, 'difference_unbalance');\n  createDataArrayPie(indexes, filterText, person_trust_index, 'entity_conf');\n  createDataArrayPie(tech_losses, filterText, tech_loss_index, 'percent_technical_losses');\n  createDataArrayPie(indexes, filterText, house_trust_index, 'population_conf');\n  createDataArrayPie(indexes, filterText, compnay_trust_index, 'utility_conf');\n  createDataArrayBar(full_res, filterText);\n}","map":{"version":3,"sources":["C:/Users/vlasoks/Documents/GitHub/SUPE-map-demo/src/components/Graphic2.js"],"names":["React","Plotly","createPlotlyComponent","differencePercent","indexes","tech_losses","full_res","Plot","hole_size","pie_colors","pie_legend","xanchor","yanchor","y","x","pie_annotations","font","size","color","showarrow","text","bgcolor","pie_markers","colors","pie_title_font","transfer_percent","layout","title","data","values","labels","type","hole","textinfo","difference_percent","showlegend","hoverinfo","width","height","legend","annotations","marker","config","responsive","person_trust_index","tech_loss_index","house_trust_index","compnay_trust_index","month_input","month_psk_out","balance_group_tech_loss","meter_avg","createDataArrayPie","rowData","balance_index","chart_data","key","genuion_value","parseInt","find","element","rest_value","push","createDataArrayBar","rawData","GraphicGroup","Component","constructor","props","render","filterText","updateGraphic"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;AACA,OAAOC,iBAAP,MAA8B,uCAA9B;AACA,OAAOC,OAAP,MAAoB,8BAApB;AACA,OAAOC,WAAP,MAAwB,kCAAxB;AACA,OAAOC,QAAP,MAAqB,yCAArB;AACA,MAAMC,IAAI,GAAGL,qBAAqB,CAACD,MAAD,CAAlC;AAEA,MAAMO,SAAS,GAAG,EAAlB;AACA,MAAMC,UAAU,GAAG,CAAC,iBAAD,EAAoB,0BAApB,CAAnB;AACA,MAAMC,UAAU,GAAG;AACjBC,EAAAA,OAAO,EAAE,QADQ;AAEjBC,EAAAA,OAAO,EAAE,KAFQ;AAGjBC,EAAAA,CAAC,EAAE,CAAC,GAHa;AAGR;AACTC,EAAAA,CAAC,EAAE,GAJc,CAIV;;AAJU,CAAnB;AAMA,MAAMC,eAAe,GAAG,CACtB;AACEC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAE,EADF;AAEJC,IAAAA,KAAK,EAAE;AAFH,GADR;AAKEC,EAAAA,SAAS,EAAE,KALb;AAMEC,EAAAA,IAAI,EAAE,EANR;AAOEN,EAAAA,CAAC,EAAE,GAPL;AAQED,EAAAA,CAAC,EAAE;AARL,CADsB,EAUnB;AACDG,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAE,EADF;AAEJC,IAAAA,KAAK,EAAE;AAFH,GADL;AAKDC,EAAAA,SAAS,EAAE,KALV;AAMDC,EAAAA,IAAI,EAAE,EANL;AAODN,EAAAA,CAAC,EAAE,GAPF;AAQDH,EAAAA,OAAO,EAAE,QARR;AASDE,EAAAA,CAAC,EAAE,CAAC,GATH;AAUDQ,EAAAA,OAAO,EAAE,EAVR,CAWD;AACA;;AAZC,CAVmB,CAAxB;AA0BA,MAAMC,WAAW,GAAG;AAClBC,EAAAA,MAAM,EAAEd;AADU,CAApB;AAGA,MAAMe,cAAc,GAAG;AACrBP,EAAAA,IAAI,EAAE,EADe;AAErBC,EAAAA,KAAK,EAAE;AAFc,CAAvB,C,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;;AACA,IAAIO,gBAAgB,GAAG;AACrBC,EAAAA,MAAM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","sourcesContent":["import React from 'react';\r\nimport Plotly from \"plotly.js\"\r\nimport createPlotlyComponent from 'react-plotly.js/factory';\r\nimport differencePercent from '../data/graphic/transfer_percent.json'\r\nimport indexes from '../data/graphic/indexes.json'\r\nimport tech_losses from '../data/graphic/tech_losses.json'\r\nimport full_res from '../data/graphic/full_res_imbalance.json'\r\nconst Plot = createPlotlyComponent(Plotly);\r\n\r\nconst hole_size = .6;\r\nconst pie_colors = ['rgb(65,123,236)', 'rgba(140, 148, 158, 0.2)'];\r\nconst pie_legend = {\r\n  xanchor: \"center\",\r\n  yanchor: \"top\",\r\n  y: -0.3, // play with it\r\n  x: 0.5 // play with it\r\n};\r\nconst pie_annotations = [\r\n  {\r\n    font: {\r\n      size: 25,\r\n      color: \"#252F4A\"\r\n    },\r\n    showarrow: false,\r\n    text: '',\r\n    x: 0.5,\r\n    y: 0.5\r\n  }, {\r\n    font: {\r\n      size: 12,\r\n      color: ''\r\n    },\r\n    showarrow: false,\r\n    text: '',\r\n    x: 0.5,\r\n    xanchor: 'center',\r\n    y: -0.5,\r\n    bgcolor: '',\r\n    // opacity: 0.3,\r\n    // borderRadius: 4,\r\n  }\r\n\r\n];\r\nconst pie_markers = {\r\n  colors: pie_colors\r\n};\r\nconst pie_title_font = {\r\n  size: 12,\r\n  color: '#818E9B'\r\n}\r\n\r\n// const imbalance_psk_pu = {\r\n//   layout: {\r\n//     title: 'График небалансов между показаниями ПСК и ПУ, в % от ПУ'\r\n//   },\r\n//   data: [\r\n//     {\r\n//       x: [\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Aug\",\r\n//         \"Sep\",\r\n//         \"Oct\",\r\n//         \"Nov\",\r\n//         \"Dec\"\r\n//       ],\r\n//       y: [\r\n//         -22258.62,\r\n//         -19341.75,\r\n//         -19674.89,\r\n//         -18135.07,\r\n//         -18576.98,\r\n//         -17191.18,\r\n//         -15894.16,\r\n//         -14348.42,\r\n//         -13830.52,\r\n//         -18908.49,\r\n//         -22282,\r\n//         -18487.81\r\n//       ],\r\n//       name: '2017',\r\n//       type: 'bar'\r\n//     }, {\r\n//       x: [\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Aug\",\r\n//         \"Sep\",\r\n//         \"Oct\",\r\n//         \"Nov\",\r\n//         \"Dec\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Aug\",\r\n//         \"Sep\",\r\n//         \"Oct\",\r\n//         \"Nov\",\r\n//         \"Dec\"\r\n//       ],\r\n//       y: [\r\n//         -52525.83,\r\n//         -36566.04,\r\n//         -36578.62,\r\n//         -35485.97,\r\n//         -40367.4,\r\n//         -54592.95,\r\n//         -44747.68,\r\n//         -47542.37,\r\n//         -21399.33,\r\n//         -19676.71,\r\n//         -18399.37,\r\n//         -20579.74,\r\n//         -16905.96,\r\n//         -16494.3,\r\n//         -14170.28,\r\n//         -15121.96,\r\n//         -15534.51,\r\n//         -17244.41,\r\n//         -17986.74,\r\n//         -23654.08\r\n//       ],\r\n//       name: '2018',\r\n//       type: 'bar'\r\n//     }, {\r\n//       x: [\r\n//         \"Jul\",\r\n//         \"Aug\",\r\n//         \"Sep\",\r\n//         \"Oct\",\r\n//         \"Nov\",\r\n//         \"Dec\",\r\n//         \"Dec\",\r\n//         \"Dec\",\r\n//         \"Aug\",\r\n//         \"Sep\",\r\n//         \"Oct\",\r\n//         \"Nov\",\r\n//         \"Dec\",\r\n//         \"Aug\",\r\n//         \"Sep\",\r\n//         \"Oct\",\r\n//         \"Nov\",\r\n//         \"Dec\",\r\n//         \"Dec\",\r\n//         \"Oct\",\r\n//         \"Nov\",\r\n//         \"Dec\",\r\n//         \"Oct\",\r\n//         \"Nov\",\r\n//         \"Dec\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Aug\",\r\n//         \"Sep\",\r\n//         \"Oct\",\r\n//         \"Nov\",\r\n//         \"Dec\",\r\n//         \"Dec\",\r\n//         \"Dec\",\r\n//         \"Dec\",\r\n//         \"Dec\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Aug\",\r\n//         \"Sep\",\r\n//         \"Oct\",\r\n//         \"Nov\",\r\n//         \"Dec\",\r\n//         \"Jul\",\r\n//         \"Aug\",\r\n//         \"Sep\",\r\n//         \"Oct\",\r\n//         \"Nov\",\r\n//         \"Dec\"\r\n//       ],\r\n//       y: [\r\n//         -13426.44,\r\n//         142021.84,\r\n//         174228.97,\r\n//         185251.28,\r\n//         410005.32,\r\n//         407173.31,\r\n//         68274.6,\r\n//         8257.4,\r\n//         46786.05,\r\n//         316001,\r\n//         324478.48,\r\n//         329400.06,\r\n//         363569.21,\r\n//         -10619.84,\r\n//         4374.61,\r\n//         6176.04,\r\n//         5849.38,\r\n//         8106.87,\r\n//         49877.4,\r\n//         127106.83,\r\n//         216141.77,\r\n//         231613.93,\r\n//         33132.9,\r\n//         53603,\r\n//         57384.2,\r\n//         -50101.33,\r\n//         -44087.85,\r\n//         -45293.79,\r\n//         -40285.61,\r\n//         -43180.68,\r\n//         -36533.33,\r\n//         -30572.78,\r\n//         -36527.5,\r\n//         -35071.6,\r\n//         -39022.18,\r\n//         -44561.4,\r\n//         -39808.55,\r\n//         42612.65,\r\n//         102833.07,\r\n//         -3326.98,\r\n//         6601.89,\r\n//         -19514.1,\r\n//         -19322.37,\r\n//         -18437.41,\r\n//         -17235.54,\r\n//         -15862.74,\r\n//         -16837.81,\r\n//         -13431.07,\r\n//         -14319.29,\r\n//         -15076.65,\r\n//         -15056.28,\r\n//         -15363.37,\r\n//         -15187.83,\r\n//         -53102.63,\r\n//         57498.88,\r\n//         85701.76,\r\n//         63208.5,\r\n//         74687.43,\r\n//         95313.85\r\n//       ],\r\n//       name: '2019',\r\n//       type: 'bar'\r\n//     }, {\r\n//       x: [\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Aug\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Aug\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Aug\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\",\r\n//         \"Jan\",\r\n//         \"Feb\",\r\n//         \"Mar\",\r\n//         \"Apr\",\r\n//         \"May\",\r\n//         \"Jun\",\r\n//         \"Jul\"\r\n//       ],\r\n//       y: [\r\n//         1551018.37,\r\n//         1406195.67,\r\n//         1206596.56,\r\n//         1124306.54,\r\n//         995445.78,\r\n//         1001776.25,\r\n//         376249.93,\r\n//         342711.1,\r\n//         344639.07,\r\n//         290490.58,\r\n//         276318.4,\r\n//         228227.62,\r\n//         234160.33,\r\n//         113345.9,\r\n//         99996.16,\r\n//         94463.92,\r\n//         71290.6,\r\n//         65181.62,\r\n//         37358.3,\r\n//         37094.93,\r\n//         11245.7,\r\n//         10610.9,\r\n//         11063.1,\r\n//         10363.2,\r\n//         5178.9,\r\n//         258.2,\r\n//         297,\r\n//         214.6,\r\n//         351710.06,\r\n//         321788.83,\r\n//         327001.81,\r\n//         298113.74,\r\n//         283908.8,\r\n//         279755.64,\r\n//         275446.11,\r\n//         7722.65,\r\n//         7347.8,\r\n//         7553.88,\r\n//         2727.67,\r\n//         2840.19,\r\n//         2247.3,\r\n//         928.06,\r\n//         68929.3,\r\n//         64378.5,\r\n//         59726.7,\r\n//         47824.4,\r\n//         44034,\r\n//         39363.1,\r\n//         42847.4,\r\n//         33874,\r\n//         27121.21,\r\n//         306606.79,\r\n//         281683.71,\r\n//         264369.8,\r\n//         239898.28,\r\n//         236166.21,\r\n//         -20062.3,\r\n//         -19724.18,\r\n//         -20870.8,\r\n//         -17640.9,\r\n//         -18425.13,\r\n//         -14217.57,\r\n//         -28309.1,\r\n//         8810.04,\r\n//         3331.43,\r\n//         3994.9,\r\n//         3046.2,\r\n//         4439.96,\r\n//         220063.71,\r\n//         206266.11,\r\n//         205792.85,\r\n//         170217.01,\r\n//         155447.61,\r\n//         137833.25,\r\n//         137469.53,\r\n//         56197,\r\n//         50950.7,\r\n//         52920.1,\r\n//         50616.8,\r\n//         46136.5,\r\n//         42797.7,\r\n//         42853.3,\r\n//         33676.4,\r\n//         -48152.97,\r\n//         -40276.14,\r\n//         -40496.75,\r\n//         -45918.29,\r\n//         -39623.1,\r\n//         -37525.6,\r\n//         -36506.72,\r\n//         110137.36,\r\n//         78550.64,\r\n//         86849.44,\r\n//         38371.24,\r\n//         50145.68,\r\n//         9780.27,\r\n//         40148.28,\r\n//         143659.68,\r\n//         124145.44,\r\n//         136744.65,\r\n//         126390.24,\r\n//         117987.9,\r\n//         103870.98,\r\n//         99911.33,\r\n//         11247.1,\r\n//         10656.08,\r\n//         12642.87,\r\n//         3464.08,\r\n//         4717.78,\r\n//         4125.24,\r\n//         1074.06,\r\n//         17080.1,\r\n//         16814.13,\r\n//         18410.89,\r\n//         13601.14,\r\n//         11365.52,\r\n//         14213.02,\r\n//         12808.35,\r\n//         -15334.06,\r\n//         -12711.22,\r\n//         -17011.69,\r\n//         -16978.63,\r\n//         -14416.92,\r\n//         -13164.52,\r\n//         -11422.42,\r\n//         98289.64,\r\n//         94774.47,\r\n//         105668.63,\r\n//         88028.83,\r\n//         93891.84,\r\n//         65149.96,\r\n//         72616.67\r\n//       ],\r\n//       name: '2020',\r\n//       type: 'bar'\r\n//     }\r\n//\r\n//   ]\r\n//\r\n// };\r\n/* Pie charts */\r\nvar transfer_percent = {\r\n  layout: {\r\n    title: 'Процент передачи показаний приборов технического учета за месяц'\r\n  },\r\n  data: [\r\n    {\r\n      values: [],\r\n      labels: [\r\n        '', 'other'\r\n      ],\r\n      type: 'pie',\r\n      hole: hole_size,\r\n      textinfo: 'none'\r\n    }\r\n  ]\r\n};\r\nvar difference_percent = {\r\n  layout: {\r\n    showlegend: false,\r\n    hoverinfo: 'none',\r\n    width: 300,\r\n    height: 300,\r\n    title: {\r\n      text: 'Процент несоответствия предиктивного <br>и фактического небалансов',\r\n      x: 0.5,\r\n      xanchor: 'center',\r\n      y: 0.2,\r\n      yanchor: 'bottom',\r\n      font: pie_title_font\r\n    },\r\n    legend: pie_legend,\r\n    annotations: pie_annotations\r\n  },\r\n  data: [\r\n    {\r\n      values: [],\r\n      labels: [\r\n        '', ''\r\n      ],\r\n      type: 'pie',\r\n      hole: hole_size,\r\n      textinfo: 'none',\r\n      hoverinfo: 'none',\r\n      marker: pie_markers\r\n    }\r\n  ],\r\n  config: {\r\n    responsive: true\r\n  }\r\n};\r\nvar person_trust_index = {\r\n  layout: {\r\n    showlegend: false,\r\n    hoverinfo: 'none',\r\n    width: 300,\r\n    height: 300,\r\n    title: {\r\n      text: 'Индекс доверия показаниям <br> физических лиц в ПСК',\r\n      x: 0.5,\r\n      xanchor: 'center',\r\n      y: 0.2,\r\n      yanchor: 'bottom',\r\n      font: pie_title_font\r\n    },\r\n    legend: pie_legend,\r\n    annotations: pie_annotations\r\n  },\r\n  data: [\r\n    {\r\n      values: [''],\r\n      labels: [\r\n        '', ''\r\n      ],\r\n      type: 'pie',\r\n      hole: hole_size,\r\n      textinfo: 'none',\r\n      hoverinfo: 'none',\r\n      marker: pie_markers\r\n    }\r\n  ],\r\n  config: {\r\n    responsive: true\r\n  }\r\n};\r\nvar tech_loss_index = {\r\n  layout: {\r\n    showlegend: false,\r\n    hoverinfo: 'none',\r\n    width: 300,\r\n    height: 300,\r\n    title: {\r\n      text: 'Индекс технических потерь',\r\n      x: 0.5,\r\n      xanchor: 'center',\r\n      y: 0.2,\r\n      yanchor: 'bottom',\r\n      font: pie_title_font\r\n    },\r\n    legend: pie_legend,\r\n    annotations: pie_annotations\r\n  },\r\n  data: [\r\n    {\r\n      values: [''],\r\n      labels: [\r\n        '', ''\r\n      ],\r\n      type: 'pie',\r\n      hole: hole_size,\r\n      textinfo: 'none',\r\n      hoverinfo: 'none',\r\n      marker: pie_markers\r\n    }\r\n  ],\r\n  config: {\r\n    responsive: true\r\n  }\r\n};\r\nvar house_trust_index = {\r\n  layout: {\r\n    showlegend: false,\r\n    hoverinfo: 'none',\r\n    width: 300,\r\n    height: 300,\r\n    title: {\r\n      text: 'Индекс доверия показаниям общедомовых нужд в ПСК',\r\n      x: 0.5,\r\n      xanchor: 'center',\r\n      y: 0.2,\r\n      yanchor: 'bottom',\r\n      font: pie_title_font\r\n    },\r\n    legend: pie_legend,\r\n    annotations: pie_annotations\r\n  },\r\n  data: [\r\n    {\r\n      values: [],\r\n      labels: [\r\n        '', ''\r\n      ],\r\n      type: 'pie',\r\n      hole: hole_size,\r\n      textinfo: 'none',\r\n      hoverinfo: 'none',\r\n      marker: pie_markers\r\n    }\r\n  ],\r\n  config: {\r\n    responsive: true\r\n  }\r\n};\r\nvar compnay_trust_index = {\r\n  layout: {\r\n    showlegend: false,\r\n    hoverinfo: 'none',\r\n    width: 300,\r\n    height: 300,\r\n    title: {\r\n      text: 'Индекс доверия показаниям юридических лиц в ПСК',\r\n      x: 0.5,\r\n      xanchor: 'center',\r\n      y: 0.2,\r\n      yanchor: 'bottom',\r\n      font: pie_title_font\r\n    },\r\n    legend: pie_legend,\r\n    annotations: pie_annotations\r\n  },\r\n  data: [\r\n    {\r\n      values: [],\r\n      labels: [\r\n        '', ''\r\n      ],\r\n      type: 'pie',\r\n      hole: hole_size,\r\n      textinfo: 'none',\r\n      hoverinfo: 'none',\r\n      marker: pie_markers\r\n    }\r\n  ],\r\n  config: {\r\n    responsive: true\r\n  }\r\n};\r\n/* Bar charts */\r\nconst month_input = {\r\n  layout: {\r\n    title: 'График суммарных помесчных показаний согласно приборам учета, кВтч'\r\n  },\r\n  data: {\r\n    x: [],\r\n    y: [],\r\n    type: 'bar'\r\n  }\r\n\r\n};\r\nconst month_psk_out = {\r\n  layout: {\r\n    title: 'График суммарных помесчных показаний от ПСК, кВтч'\r\n  },\r\n  data: {\r\n    x: [],\r\n    y: [],\r\n    type: 'bar'\r\n  }\r\n\r\n};\r\nconst balance_group_tech_loss = {\r\n  layout: {\r\n    title: 'Технические потери на балансовой группе, кВтч'\r\n  },\r\n  data: {\r\n    x: [],\r\n    y: [],\r\n    type: 'bar'\r\n  }\r\n\r\n};\r\nconst meter_avg = {\r\n  layout: {\r\n    title: 'Передача показаний приборов технического учета, %'\r\n  },\r\n  data: {\r\n    x: [],\r\n    y: [],\r\n    type: 'bar'\r\n  }\r\n\r\n};\r\n\r\nfunction createDataArrayPie(rowData, balance_index, chart_data, key) {\r\n\r\n  var genuion_value = 0\r\n  chart_data.data[0].values = [];\r\n  chart_data.layout.annotations[0].text = '';\r\n\r\n  genuion_value = parseInt(rowData.find(element => element.balance_index == balance_index)[key]);\r\n  var rest_value = 100 - genuion_value;\r\n\r\n  chart_data.data[0].values.push(genuion_value, rest_value);\r\n  chart_data.layout.annotations[0].text = genuion_value;\r\n\r\n  if (genuion_value > 50) {\r\n    chart_data.layout.annotations[1].text = 'Высокий';\r\n    chart_data.layout.annotations[1].font.color = '#D33126';\r\n    chart_data.layout.annotations[1].font.bgcolor = 'rgba(222, 32, 19, 0.4)';\r\n  } else {\r\n    chart_data.layout.annotations[1].text = 'Низкий';\r\n    chart_data.layout.annotations[1].font.color = '#21BA49';\r\n    chart_data.layout.annotations[1].font.bgcolor = 'rgba(96, 200, 125, 0.4)';\r\n  }\r\n\r\n}\r\n\r\nfunction createDataArrayBar(rawData, balance_index){\r\n\r\n  /*month input graphic*/\r\n\r\n  rawData\r\n\r\n\r\n}\r\n\r\nexport class GraphicGroup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // this.state = { data: [], layout: {}, config: {}, revision: 0 };\r\n  }\r\n\r\n  render() {\r\n    const filterText = this.props.filterText;\r\n\r\n    if (filterText !== '') {\r\n      updateGraphic(this.props.filterText);\r\n    }\r\n\r\n    return (<div>\r\n\r\n      {\r\n        filterText !== ''\r\n          ? [<div key='div2'>\r\n            <Plot data={difference_percent.data} layout={difference_percent.layout} config={difference_percent.config}/>\r\n            <Plot data={person_trust_index.data} layout={person_trust_index.layout} config={person_trust_index.config}/>\r\n            <Plot data={tech_loss_index.data} layout={tech_loss_index.layout} config={tech_loss_index.config}/>\r\n            <Plot data={house_trust_index.data} layout={house_trust_index.layout} config={house_trust_index.config}/>\r\n            <Plot data={compnay_trust_index.data} layout={compnay_trust_index.layout} config={compnay_trust_index.config}/>\r\n\r\n          </div>\r\n            ]\r\n          : null\r\n      }\r\n    </div>);\r\n\r\n  }\r\n}\r\nfunction updateGraphic(filterText) {\r\n  createDataArrayPie(differencePercent, filterText, difference_percent, 'difference_unbalance');\r\n  createDataArrayPie(indexes, filterText, person_trust_index, 'entity_conf');\r\n  createDataArrayPie(tech_losses, filterText, tech_loss_index, 'percent_technical_losses');\r\n  createDataArrayPie(indexes, filterText, house_trust_index, 'population_conf');\r\n  createDataArrayPie(indexes, filterText, compnay_trust_index, 'utility_conf');\r\n\r\n  createDataArrayBar(full_res, filterText)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}